From 0000000000000000000000000000000000000000 Mon Sep 17 00:00:00 2001
From: John Doe <john.doe@somewhere.on.planet>
Date: Mon, 18 Mar 2024 23:18:33 +0800
Subject: Patching u-boot rk35xx files arch/arm/dts/rk3566-ha-green-u-boot.dtsi
 arch/arm/dts/rk3566-ha-green.dts

Signed-off-by: John Doe <john.doe@somewhere.on.planet>
---
 arch/arm/dts/rk3566-ha-green-u-boot.dtsi | 11 ----------
 arch/arm/dts/rk3566-ha-green.dts         |  9 ++++----
 2 files changed, 4 insertions(+), 16 deletions(-)

diff --git a/arch/arm/dts/rk3566-ha-green-u-boot.dtsi b/arch/arm/dts/rk3566-ha-green-u-boot.dtsi
index d1b5551be3..aaee137136 100644
--- a/arch/arm/dts/rk3566-ha-green-u-boot.dtsi
+++ b/arch/arm/dts/rk3566-ha-green-u-boot.dtsi
@@ -3,16 +3,5 @@
 / {
 	chosen {
 		stdout-path = &uart2;
 	};
 };
-
-&sdhci {
-	cap-mmc-highspeed;
-	mmc-ddr-1_8v;
-};
-
-&uart2 {
-	clock-frequency = <24000000>;
-	bootph-all;
-	status = "okay";
-};
diff --git a/arch/arm/dts/rk3566-ha-green.dts b/arch/arm/dts/rk3566-ha-green.dts
index ad4df32d7b..51259c237b 100644
--- a/arch/arm/dts/rk3566-ha-green.dts
+++ b/arch/arm/dts/rk3566-ha-green.dts
@@ -4,15 +4,10 @@
 
 / {
 	model = "RK3566 HA Green";
 	compatible = "rockchip,rk3566-ha-green", "rockchip,rk3566";
 
-	aliases {
-		mmc0 = &sdhci;
-		mmc1 = &sdmmc0;
-	};
-
 	dc_12v: dc-12v {
 		compatible = "regulator-fixed";
 		regulator-name = "dc_12v";
 		regulator-always-on;
 		regulator-boot-on;
@@ -105,10 +100,14 @@
 		vcc6-supply = <&vcc3v3_sys>;
 		vcc7-supply = <&vcc3v3_sys>;
 		vcc8-supply = <&vcc3v3_sys>;
 		vcc9-supply = <&vcc3v3_sys>;
 
+		pwrkey {
+			status = "okay";
+		};
+
 		regulators {
 			vdd_logic: DCDC_REG1 {
 				regulator-name = "vdd_logic";
 				regulator-always-on;
 				regulator-boot-on;
-- 
Created with Armbian build tools https://github.com/armbian/build

